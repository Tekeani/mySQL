Exercice réalisé sur le site SQLite editor


CREATE TABLE edusign (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	firstname TEXT NOT NULL,
    email TEXT NOT NULL,
    created_at DATETIME
);

INSERT INTO edusign (firstname, email, created_at)
VALUES ('Ada', 'ada@adatechschool.com', '2024-05-08 09:30:00');

INSERT INTO edusign (firstname, email, created_at)
VALUES ('Grace', 'grace@adatechschool.com', '2024-05-08 09:30:00');

INSERT INTO edusign (firstname, email, created_at)
VALUES ('Dorothy', 'dorothy@adatechschool.com', '2024-05-08 09:30:00');

INSERT INTO edusign (firstname, email, created_at)
VALUES ('Ella', 'ella@adatechschool.com', '2024-05-08 09:30:00');

INSERT INTO edusign (firstname, email, created_at)
VALUES ('Grace', 'grace@adatechschool.com', '2024-05-09 09:30:00');

INSERT INTO edusign (firstname, email, created_at)
VALUES ('Ella', 'ella@adatechschool.com', '2024-05-09 09:30:00');

CREATE TABLE users (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	prénom TEXT NOT NULL,
    nom TEXT NOT NULL,
    email TEXT NOT NULL
);

INSERT INTO users (prénom, nom, email) VALUES ('Ada', 'Lovelace', 'ada@test.fr');
INSERT INTO users (prénom, nom, email) VALUES ('Beatrice', 'Worsley', 'bea@test.fr');
INSERT INTO users (prénom, nom, email) VALUES ('Bella', 'Guerin', 'bella@test.fr');
INSERT INTO users (prénom, nom, email) VALUES ('Barbara', 'Chase', 'barbara@test.fr');

DROP TABLE users;

CREATE TABLE users (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	prénom TEXT NOT NULL,
	nom TEXT NOT NULL,
	email TEXT NOT NULL,
    user_id INTEGER NOT NULL,
	FOREIGN KEY (user_id) REFERENCES edusign(id)
);

INSERT INTO users (prénom, nom, email, user_id) VALUES ('Ada', 'Lovelace', 'ada@test.fr', 1);
INSERT INTO users (prénom, nom, email, user_id) VALUES ('Beatrice', 'Worsley', 'bea@test.fr', 2);
INSERT INTO users (prénom, nom, email, user_id) VALUES ('Bella', 'Guerin', 'bella@test.fr', 3);
INSERT INTO users (prénom, nom, email, user_id) VALUES ('Barbara', 'Chase', 'barbara@test.fr', 4);

ALTER TABLE edusign
DROP firstname;

ALTER TABLE edusign
DROP email;

ALTER TABLE edusign
ADD user_id INTEGER 
REFERENCES edusign(id);

UPDATE edusign
SET user_id = 1
WHERE id = 1;

SELECT * FROM users;

INSERT INTO users (prénom, nom, email, user_id) VALUES ('Grace', 'Tartempion', 'grace@adatechschool.com', 5);
INSERT INTO users (prénom, nom, email, user_id) VALUES ('Dorothy', 'OZ', 'dorothy@adatechschool.com', 6);
INSERT INTO users (prénom, nom, email, user_id) VALUES ('Ella', 'ELLA', 'ella@adatechschool.com', 7);

UPDATE edusign
SET user_id = 5
WHERE id = 2;

UPDATE edusign
SET user_id = 6
WHERE id = 3;

UPDATE edusign
SET user_id = 7
WHERE id = 4;

UPDATE edusign
SET user_id = 5
WHERE id = 5;

UPDATE edusign
SET user_id = 7
WHERE id = 6;

SELECT * FROM users
WHERE prénom = 'Ada';

SELECT * FROM users
WHERE prénom = 'B%';

SELECT COUNT(*) FROM users;

SELECT COUNT(*)
FROM users
WHERE prénom LIKE 'B%';

SELECT prénom FROM users;

INSERT INTO edusign (create_at, user_id) VALUES 
('2024-05-30 09:30:00', 1),
('2024-05-30 09:30:00', 3);

INSERT INTO edusign (created_at, user_id)
SELECT datetime ('2024-09-01 09:30:00'), id
FROM users;

SELECT created_at
FROM edusign
ORDER BY created_at; 
<!-- croissant par défaut -->

SELECT * FROM edusign
WHERE created_at = '2024-05-30 09:30:00';




